# ChangeLog

## 7.5.0
- UnpackingAvatarのログをパースできるよう変更

## 7.4.1
- ワールドURLの生成処理を修正

## 7.4.0
- 新しいログ形式に暫定対応

## 7.3.0
- leaveログがuserIdを含むようになる書式変更に対応

## 7.2.0
- 画像ダウンロードのログをパースできるよう変更

## 7.1.1
- `--import` オプション指定時にDB更新が二重に実行されていた問題を修正

## 7.1.0
- Release - 31 July 2023 - Build 1319 のログからnonceが消えた変更への対応
- グループの権限をパースできるよう変更

## 7.0.0
- Linux環境向け対応 by [MalikuMane](https://github.com/MalikuMane) #31
- グループのインスタンスログをパースで切るよう変更

## 6.2.1
- leaveログの判定を厳密化

## 6.2.0
- APIアクセスのログをパースできるよう変更
  - VRChat.exe を `--enable-sdk-log-levels` 有効にした際に出力されるログをパース
  - パース結果の latest と、 displayName のヒストリを userDataTable に保存
- TopazChat再生のログをパースできるよう変更

## 6.1.0
- 動作再生のログをパースできるよう変更
- `ActivityLog` のメンバ `activityType` の型を厳密化
- ログ内容以外の出力を `--debug` 有効時のみ出力するよう変更
- `--watch` 有効時に新しいログを逐次出力するよう変更
- 退室ログをパースできるよう変更

## 6.0.0
- `--case-filter` を大文字小文字を区別するフラグに変更
- `--import` オプションを廃止
- ログディレクトリを指定する `--import-dir` オプションを追加
- 検索結果と同じインスタンスのログを表示する `--instance-all` オプションを追加
- 検索結果と同じインスタンスの入室ログを表示する `--instance-enter` オプションを追加

## 5.2.0
- ファイル書き込みエラーのハンドリングを追加
  - 書き込み前に一時バックファイルを生成し、正常に書き込みを終えると削除します。

## 5.1.0
- join の MoveActivityLog に自身の join か判定する `access` を追加
  - ログのパース結果が変わるため、過去バージョンと同じ VRChat log ファイルをこのバージョンで読んだ場合、 join MoveActivityLog が重複します。
  - 新しいバージョンを利用する前に、ログファイルの移動・削除を推奨します。

## 5.0.0
publish リポジトリを GitHub Packages から npm に変更

- パッケージ名から scoped(@kamakiri01) を削除
- `--range` オプションの単位指定を追加
- 自動ログイン時のログをパースできるよう変更

## 4.0.1
- 2021.2.4-1104-f388788aae-Release のログ出力に対応
  - インスタンスのリージョンに対応

## 4.0.0
export 関数の挙動とモジュール位置変更によるメジャーバージョン更新です。

- export 関数の配置・挙動変更
- 通知の Remove をパースできるよう変更
- エラーログを `--debug` 有効時のみ出力するよう変更

## 3.0.1
- `--watch` オプションを秒数を受け取るよう変更

## 3.0.0
export 関数挙動の変更によるメジャーバージョン更新です。

- export 関数の配置・挙動変更
- `--watch` オプションの追加
- db.json から `vrchatHomePath` を削除、`dbVersion` を追加
  - log 以下の型に変更はありません。

## 2.0.0
ログファイル生成先ディレクトリの変更によるメジャーバージョン更新です。

- db.json の生成先ディレクトリを変更
  - db.json は `~/.vrchatActivityViewer/db.json` に移動することで本バージョン以降も使用できます。
- 型定義ファイルの同梱

## 1.1.1
- 不要なデバッグ用ログ出力を削除

## 1.1.0
- `--filter` オプションを大文字小文字を区別しないよう変更
- 大文字小文字を区別する `--case-filter` オプションを追加

## 1.0.0
内部構造の破壊的変更によるメジャーバージョン更新です。

- invite/request invite/responseの画像とメッセージをログ表示できるよう変更
- 内部構造の変更
  - `NotificationLogData#details` を、パース済みのdetailsデータ構造に変更しました。従来のパース前のdetails文字文字列を `NotificationLogData#detailsRaw` に変更しました。

## 0.0.4
- invite/request inviteのメッセージのレスポンスをパースできるよう変更

## 0.0.3
- `--filter` オプションに複数のキーワードを指定できるよう変更
  - or条件でマッチします。and条件には grep コマンドなどを利用してください。

## 0.0.2
- VRChat 2021.1.2-1046-Release のログ出力に対応

## 0.0.1
- リリース
